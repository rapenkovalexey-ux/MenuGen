from aiogram import Router, F
from aiogram.filters import CommandStart, Command
from aiogram.types import Message
from sqlalchemy.ext.asyncio import AsyncSession
from database.db import get_or_create_user, get_user_plan, AsyncSessionLocal
from keyboards.keyboards import main_menu_keyboard, subscription_keyboard

router = Router()

WELCOME_TEXT = """üëã –ü—Ä–∏–≤–µ—Ç, {name}!

–Ø <b>–ú–µ–Ω—é–ü—Ä–æ</b> ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –Ω–∞ –±–∞–∑–µ –ò–ò.

üçΩÔ∏è <b>–ß—Ç–æ —è —É–º–µ—é:</b>
‚Ä¢ –°–æ—Å—Ç–∞–≤–ª—è—Ç—å –º–µ–Ω—é –Ω–∞ –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—é –∏–ª–∏ –º–µ—Å—è—Ü
‚Ä¢ –£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–∂–∏–º –ø–∏—Ç–∞–Ω–∏—è, –≤–æ–∑—Ä–∞—Å—Ç –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
‚Ä¢ –°—á–∏—Ç–∞—Ç—å –∫–∞–ª–æ—Ä–∏–∏ –∏ –ö–ë–ñ–£ –∫–∞–∂–¥–æ–≥–æ –±–ª—é–¥–∞
‚Ä¢ –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ –≤ PDF
‚Ä¢ –ü–æ–¥–±–∏—Ä–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –¥–ª—è –±–ª—é–¥
‚Ä¢ –î–∞–≤–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–∏—Ç–∞–Ω–∏—é

üìã <b>–¢–≤–æ–π –ø–ª–∞–Ω:</b> {plan_emoji} {plan_name}

–ò—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω—é –Ω–∏–∂–µ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã üëá"""

PLAN_INFO = {
    "free": ("üÜì", "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π", "–î–æ 3 –¥–Ω–µ–π | –ë–µ–∑ –∫–∞–ª–æ—Ä–∏–π —É–∂–∏–Ω–∞ | –ë–µ–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫"),
    "trial": ("üéÅ", "–¢—Ä–∏–∞–ª (10 –¥–Ω–µ–π)", "–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º"),
    "paid": ("üíé", "PRO", "–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º"),
}

